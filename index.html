<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CivicLens â€” AI Legislative Transparency</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>CivicLens</h1>
    <p>AI-powered platform making Kenyan parliamentary records accessible and actionable</p>
    <nav>
      <a href="#about">About</a>
      <a href="#summaries">Summaries</a>
      <a href="#upload">Upload</a>
      <a href="#contact">Contact</a>
    </nav>
  </header>

  <main>
    <!-- About Section -->
    <section id="about">
      <h2>About CivicLens</h2>
      <p>
        CivicLens transforms dense parliamentary documents into plain-language summaries.
        Journalists, civic organizations, and citizens can track legislative decisions and community impacts quickly.
      </p>
      <p>
        Our AI pipeline automates scraping, summarization, classification, and indexing of parliamentary reports.
        Users can also upload PDFs or text files to get instant summaries in the browser.
      </p>
    </section>

    <!-- AI Demo Section -->
    <section id="demo">
      <h2>AI in Action</h2>
      <p>Compare original Hansard text with AI-generated summary:</p>
      <div class="demo-card">
        <button id="toggle-btn">Show Original Hansard</button>
        <div id="demo-content">
          <p><strong>AI Summary:</strong> Deputy Speaker moves Special Motions based on committee reports, approvals of appointments, and public participation updates in plain language.</p>
        </div>
      </div>
    </section>

    <!-- Upload Section -->
    <section id="upload">
      <h2>Upload Your Document (PDF or Text)</h2>
      <input type="file" id="file-input" accept=".pdf,.txt" multiple>
      <button id="process-btn">Process Uploaded Files</button>
      <div id="uploaded-files"></div>
    </section>

    <!-- Summaries Section -->
    <section id="summaries">
      <h2>Recent Legislative Summaries</h2>
      <div id="summaries-container">
        <!-- AI-generated summaries will appear here -->
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
      <h2>Contact / Collaborate</h2>
      <p>Email: <a href="mailto:info@qemb.org">info@qemb.org</a></p>
      <p>GitHub: <a href="https://github.com/kibakimuoki/civiclens" target="_blank">civiclens repository</a></p>
    </section>
  </main>

  <footer>
    <p>&copy; 2026 CivicLens / QEMB | Open-source AI for democratic transparency</p>
  </footer>

  <!-- PDF.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.9.179/pdf.min.js"></script>
  <!-- gpt4all.js library (browser LLM) -->
  <script src="https://unpkg.com/gpt4all.js"></script>
  <script src="app.js"></script>
  <script>
    // Demo toggle button
    const toggleBtn = document.getElementById('toggle-btn');
    const demoContent = document.getElementById('demo-content');
    let showOriginal = false;

    toggleBtn.addEventListener('click', () => {
      if (showOriginal) {
        demoContent.innerHTML = '<p><strong>AI Summary:</strong> Deputy Speaker moves Special Motions based on committee reports, approvals of appointments, and public participation updates in plain language.</p>';
        toggleBtn.textContent = 'Show Original Hansard';
      } else {
        demoContent.innerHTML = '<p><strong>Original Hansard:</strong> THAT, taking into consideration the findings of the Departmental Committee on Labour in its report on the approval hearing of a Nominee for Appointment as the Commission Secretary/Chief Executive Officer...</p>';
        toggleBtn.textContent = 'Show AI Summary';
      }
      showOriginal = !showOriginal;
    });
  </script>
</body>
</html>
